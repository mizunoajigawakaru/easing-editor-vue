(function(){"use strict";var e={2519:function(e,n,t){var i=t(9242),a=t(3396),l=t(4870);const r="ease-in-out",s="ease-in",u="ease-out",o=[r,s,u],c=[{name:r,value:[.42,0,.58,1]},{name:"In Out · Sine",value:[.45,.05,.55,.95]},{name:"In Out · Quadratic",value:[.46,.03,.52,.96]},{name:"In Out · Cubic",value:[.65,.05,.36,1]},{name:"Fast Out, Slow In",value:[.4,0,.2,1]},{name:"In Out · Back",value:[.68,-.55,.27,1.55]}],v=[{name:s,value:[.42,0,1,1]},{name:"In · Sine",value:[.47,0,.75,.72]},{name:"In · Quadratic",value:[.55,.09,.68,.53]},{name:"In · Cubic",value:[.55,.06,.68,.19]},{name:"In · Back",value:[.6,-.28,.74,.05]},{name:"Fast Out, Linear In",value:[.4,0,1,1]}],d=[{name:u,value:[0,0,.58,1]},{name:"Out · Sine",value:[.39,.58,.57,1]},{name:"Out · Quadratic",value:[.25,.46,.45,.94]},{name:"Out · Cubic",value:[.22,.61,.36,1]},{name:"Linear Out, Slow In",value:[0,0,.2,1]},{name:"Out · Back",value:[.18,.89,.32,1.28]}],p={[r]:c,[s]:v,[u]:d},b=(e,n)=>{const t=o,i=(0,l.iH)(null),c=(0,l.iH)(null),v=(0,l.iH)(null),d=(0,l.iH)({[r]:0,[s]:0,[u]:0}),b=n=>{const t=p[n][d.value[n]];i.value=n,v.value=t.name,c.value=0===d.value[n]?n:null,e(t.value)},g=n=>{if(!i.value)return;const t=d.value[i.value],a=p[i.value],l=t+n===a.length?0:t+n===-1?a.length-1:t+n,r={...d.value,[i.value]:l},s=a[r[i.value]];c.value=0===l?s.name:null,v.value=s.name,d.value=r,e(s.value)},P=()=>{i.value=null,c.value=null,v.value=null},m=(0,a.Fl)((()=>v.value?v.value:c.value?c.value:`cubic-bezier(${n.value.join(", ")})`));return{presetTypes:t,selectedPresetType:i,selectedPresetIndex:d,applyPreset:b,changePreset:g,resetPreset:P,displayValue:m}};var g=t(5758),P=t(1176);const m=136,h=136,y=57,f=7,w=(e,n,t,i)=>Math.sqrt(Math.pow(t-e,2)+Math.pow(i-n,2)),z=({dragstartCallback:e,dragendCallback:n})=>{const t=(0,l.iH)([0,0,1,1]),i=(0,l.iH)({beginX:0,beginY:0,endX:0,endY:0}),r=(0,l.iH)({beginX:0,beginY:0,endX:0,endY:0}),s=(0,l.iH)(null),u=(0,l.iH)(null),o=(0,l.iH)([0,0]),c=e=>{t.value=[...e],v(e)},v=e=>{const[n,t,a,l]=e;i.value={beginX:m*n,beginY:h-h*t,endX:m*a,endY:h-h*l}},d=e=>e.map(((e,n)=>n%2===0?e+f:e+y)),p=(0,a.Fl)((()=>d([0,h,m,0]))),b=(0,a.Fl)((()=>d([0,h,i.value.beginX,i.value.beginY]))),z=(0,a.Fl)((()=>d([m,0,i.value.endX,i.value.endY]))),_=(0,a.Fl)((()=>{const[e,n,t,i]=b.value,[a,l,r,s]=z.value;return`M${e} ${n} C ${t} ${i}, ${r} ${s}, ${a} ${l}`})),x=()=>{const{beginX:e,beginY:n,endX:a,endY:l}=i.value,r=e=>Number(e.toFixed(2)),s=[e/m,(h-n)/h,a/m,(h-l)/h].map(r);t.value=s},D=n=>{const[t,a]=[n.offsetX-f,n.offsetY-y],{beginX:l,beginY:o,endX:c,endY:v}=i.value,d=w(t,a,l,o),p=w(t,a,c,v);u.value=[n.pageX,n.pageY],s.value=d<p?"begin":"end","begin"===s.value?r.value={...i.value,beginX:(0,g.Z)(t,0,m),beginY:a}:r.value={...i.value,endX:(0,g.Z)(t,0,m),endY:a},e(),i.value={...r.value},x()},X=e=>{if(!u.value)return;const[n,t]=u.value,a=[n-e.pageX,t-e.pageY].map((e=>~e));if((0,P.Z)(o.value,a))return;const[l,c]=a,{beginX:v,beginY:d,endX:p,endY:b}=r.value;"begin"===s.value?i.value={...r.value,beginX:(0,g.Z)(v+l,0,m),beginY:d+c}:i.value={...r.value,endX:(0,g.Z)(p+l,0,m),endY:b+c},o.value=a,x()},Y=()=>{s.value&&n(),s.value=null,u.value=null};return{cubicBezierValue:t,initBezier:c,setPositions:v,linearLinePoints:p,beginPoints:b,endPoints:z,cubicBezierPathData:_,dragstart:D,onDrag:X,dragend:Y}};var _=t(6770),x=t(4440),D=t.n(x);const X=20,Y=1400,k=100,C=Y+k,I=e=>{const n=218,t=(0,l.iH)([0,0,1,1]),i=(0,l.iH)(D()(0,0,1,1)),a=(0,l.iH)(null),r=(0,l.iH)(null),s=(0,l.iH)(null),u=(0,l.iH)(!1),o=(0,l.iH)(0),c=(0,l.iH)(0),v=()=>{s.value&&cancelAnimationFrame(s.value),t.value=[...e.value],i.value=D()(e.value[0],e.value[1],e.value[2],e.value[3]),u.value=!0,d(),requestAnimationFrame(p)},d=()=>{const n=D()(e.value[0],e.value[1],e.value[2],e.value[3]),t=(0,_.Z)(X+1).map((e=>{const t=e/X;return n(t)}));r.value=t},p=e=>{a.value&&(o.value=e,c.value=o.value+C,a.value.style.opacity="1",b(e))},b=e=>{if(!u.value)return void g();const t=e-o.value;if(t>=C&&(u.value=!1),t<=Y){const e=t/Y,l=n*i.value(e);a.value&&(a.value.style.transform=`translateX(${l}px)`)}if(t>=C-k){const e=(t-Y)/k;a.value&&(a.value.style.opacity=""+(1-e))}s.value=requestAnimationFrame(b)},g=()=>{a.value&&(a.value.style.transform="translateX(0px)",a.value.style.opacity="0"),s.value=null};return{bezierPreviewElement:a,previewAreaWidth:n,animatonTracePositions:r,triggerPreview:v}},T=["x1","y1","x2","y2"],$=["d"],B=["x1","y1","x2","y2"],H=["cx","cy"],O=["x1","y1","x2","y2"],S=["cx","cy"];function U(e,n,t,i,l,r){return(0,a.wg)(),(0,a.iD)("svg",{class:"bezier-curve",width:"150",height:"250",onMousedown:n[0]||(n[0]=n=>e.$emit("drag-start",n))},[(0,a._)("g",null,[(0,a._)("line",{class:"linear-line",x1:t.linearLinePoints[0],y1:t.linearLinePoints[1],x2:t.linearLinePoints[2],y2:t.linearLinePoints[3]},null,8,T),(0,a._)("path",{class:"bezier-path",d:t.cubicBezierPathData},null,8,$),(0,a._)("line",{class:"bezier-control-line",x1:t.beginPoints[0],y1:t.beginPoints[1],x2:t.beginPoints[2],y2:t.beginPoints[3]},null,8,B),(0,a._)("circle",{class:"bezier-control-circle",cx:t.beginPoints[2],cy:t.beginPoints[3],r:"7"},null,8,H),(0,a._)("line",{class:"bezier-control-line",x1:t.endPoints[0],y1:t.endPoints[1],x2:t.endPoints[2],y2:t.endPoints[3]},null,8,O),(0,a._)("circle",{class:"bezier-control-circle",cx:t.endPoints[2],cy:t.endPoints[3],r:"7"},null,8,S)])],32)}var L={name:"BezierCurve",props:["cubicBezierPathData","linearLinePoints","beginPoints","endPoints"]},V=t(89);const Z=(0,V.Z)(L,[["render",U],["__scopeId","data-v-1e562ce0"]]);var A=Z,F=t(7139);const E={class:"bezier-presets"},W=["onClick"];function M(e,n,t,i,l,r){const s=(0,a.up)("bezier-preset");return(0,a.wg)(),(0,a.iD)("div",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.presetTypes,((n,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"bezier-preset-category",key:i,onClick:t=>e.$emit("apply-preset",n)},[(0,a.Wm)(s,{value:r.getPresetValue(n),class:(0,F.C_)({selected:n===t.selectedPresetType})},null,8,["value","class"])],8,W)))),128))])}const j={class:"bezier-preset",width:"40",height:"40"},q=["d"],Q=["x1","y1","x2","y2"],K=["cx","cy"],N=["x1","y1","x2","y2"],G=["cx","cy"];function J(e,n,t,i,l,r){return(0,a.wg)(),(0,a.iD)("svg",j,[(0,a._)("g",null,[(0,a._)("path",{class:"bezier-path",d:l.cubicBezierPathData},null,8,q),(0,a._)("line",{class:"bezier-control-line",x1:r.beginPoints[0],y1:r.beginPoints[1],x2:r.beginPoints[2],y2:r.beginPoints[3]},null,8,Q),(0,a._)("circle",{class:"bezier-control-circle",cx:r.beginPoints[2],cy:r.beginPoints[3],r:"2"},null,8,K),(0,a._)("line",{class:"bezier-control-line",x1:r.endPoints[0],y1:r.endPoints[1],x2:r.endPoints[2],y2:r.endPoints[3]},null,8,N),(0,a._)("circle",{class:"bezier-control-circle",cx:r.endPoints[2],cy:r.endPoints[3],r:"2"},null,8,G)])])}var R={name:"BezierPreset",props:["value"],data(){return{cubicBezierPathData:"",offset:{top:2,left:2},frame:{width:36,height:36}}},created(){this.setPositions(this.value),this.setCubicBezierPathData()},computed:{beginPoints(){const{height:e}=this.frame,{beginX:n,beginY:t}=this.positions;return this.getAbsolutePoints([0,e,n,t])},endPoints(){const{width:e}=this.frame,{endX:n,endY:t}=this.positions;return this.getAbsolutePoints([e,0,n,t])}},methods:{setPositions(e){const{width:n,height:t}=this.frame,[i,a,l,r]=e;this.positions={beginX:n*i,beginY:t-t*a,endX:n*l,endY:t-t*r}},setCubicBezierPathData(){const[e,n,t,i]=this.beginPoints,[a,l,r,s]=this.endPoints;this.cubicBezierPathData=`M${e} ${n} C ${t} ${i}, ${r} ${s}, ${a} ${l}`},getAbsolutePoints(e){return[...e].map(((e,n)=>n%2===0?e+this.offset.left:e+this.offset.top))}}};const ee=(0,V.Z)(R,[["render",J],["__scopeId","data-v-f80143d4"]]);var ne=ee,te={name:"BezierPresets",props:["presetTypes","selectedPresetIndex","selectedPresetType"],components:{BezierPreset:ne},methods:{getPresetValue(e){return p[e][this.selectedPresetIndex[e]].value}}};const ie=(0,V.Z)(te,[["render",M],["__scopeId","data-v-1fb6a115"]]);var ae=ie;const le=e=>((0,a.dD)("data-v-4eb91c7b"),e=e(),(0,a.Cn)(),e),re={class:"bezier-header"},se=le((()=>(0,a._)("path",{d:"M 12 6 L 8 10 L 12 14"},null,-1))),ue=[se],oe=le((()=>(0,a._)("path",{d:"M 8 6 L 12 10 L 8 14"},null,-1))),ce=[oe],ve={class:"source-code bezier-display-value"};function de(e,n,t,i,l,r){return(0,a.wg)(),(0,a.iD)("div",re,[t.selectedPresetType?((0,a.wg)(),(0,a.iD)("svg",{key:0,class:"bezier-preset-modify bezier-preset-minus",width:"20",height:"20",onClick:n[0]||(n[0]=n=>e.$emit("change-preset",-1))},ue)):(0,a.kq)("",!0),t.selectedPresetType?((0,a.wg)(),(0,a.iD)("svg",{key:1,class:"bezier-preset-modify bezier-preset-plus",width:"20",height:"20",onClick:n[1]||(n[1]=n=>e.$emit("change-preset",1))},ce)):(0,a.kq)("",!0),(0,a._)("span",ve,(0,F.zw)(t.displayValue),1)])}var pe={name:"BezierHeader",props:["selectedPresetType","displayValue"]};const be=(0,V.Z)(pe,[["render",de],["__scopeId","data-v-4eb91c7b"]]);var ge=be;const Pe=e=>((0,a.dD)("data-v-46fe4298"),e=e(),(0,a.Cn)(),e),me=Pe((()=>(0,a._)("div",{id:"bezier-preview",class:"bezier-preview-container"},[(0,a._)("div",{class:"bezier-preview-animation"})],-1))),he={class:"bezier-preview"},ye={key:0,class:"bezier-preview-onion"};function fe(e,n,t,i,l,r){return(0,a.wg)(),(0,a.iD)("div",{onClick:n[0]||(n[0]=n=>e.$emit("trigger-preview"))},[me,(0,a._)("div",he,[t.animatonTracePositions?((0,a.wg)(),(0,a.iD)("div",ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.animatonTracePositions,((e,n)=>((0,a.wg)(),(0,a.iD)("div",{class:"bezier-preview-animation",key:n,style:(0,F.j5)({transform:`translateX(${r.getPosition(e)})`})},null,4)))),128))])):(0,a.kq)("",!0)])])}var we={name:"BezierPreview",props:["previewAreaWidth","animatonTracePositions"],methods:{getPosition(e){return this.previewAreaWidth*e+"px"}}};const ze=(0,V.Z)(we,[["render",fe],["__scopeId","data-v-46fe4298"]]);var _e=ze;const xe={class:"easing-editor"},De={class:"bezier-container"};var Xe=(0,a.aZ)({__name:"EasingEditor",props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:n}){const t=e,{cubicBezierValue:i,initBezier:r,setPositions:s,linearLinePoints:u,beginPoints:o,endPoints:c,cubicBezierPathData:v,dragstart:d,onDrag:p,dragend:g}=z({dragstartCallback:()=>{w()},dragendCallback:()=>{Y()}}),{presetTypes:P,selectedPresetType:m,selectedPresetIndex:h,applyPreset:y,changePreset:f,resetPreset:w,displayValue:_}=b((e=>{i.value=e,s(e),Y()}),i),{bezierPreviewElement:x,previewAreaWidth:D,animatonTracePositions:X,triggerPreview:Y}=I(i),k=t.modelValue.replace(/(cubic-bezier\(|\))/g,"").split(",").map(Number);return r(k),(0,a.YP)(_,(()=>{n("update:modelValue",_.value)})),(0,a.bv)((()=>{window.addEventListener("mousemove",p),window.addEventListener("mouseup",g),x.value=document.getElementById("bezier-preview"),Y()})),(e,n)=>((0,a.wg)(),(0,a.iD)("div",xe,[(0,a.Wm)(_e,{"preview-area-width":(0,l.SU)(D),animatonTracePositions:(0,l.SU)(X),onTriggerPreview:(0,l.SU)(Y)},null,8,["preview-area-width","animatonTracePositions","onTriggerPreview"]),(0,a._)("div",De,[(0,a.Wm)(ae,{"preset-types":(0,l.SU)(P),selectedPresetIndex:(0,l.SU)(h),selectedPresetType:(0,l.SU)(m),onApplyPreset:(0,l.SU)(y)},null,8,["preset-types","selectedPresetIndex","selectedPresetType","onApplyPreset"]),(0,a.Wm)(A,{"linear-line-points":(0,l.SU)(u),"cubic-bezier-path-data":(0,l.SU)(v),"begin-points":(0,l.SU)(o),"end-points":(0,l.SU)(c),onDragStart:n[0]||(n[0]=e=>(0,l.SU)(d)(e))},null,8,["linear-line-points","cubic-bezier-path-data","begin-points","end-points"])]),(0,a.Wm)(ge,{"selected-preset-type":(0,l.SU)(m),"display-value":(0,l.SU)(_),onChangePreset:(0,l.SU)(f)},null,8,["selected-preset-type","display-value","onChangePreset"])]))}});const Ye=(0,V.Z)(Xe,[["__scopeId","data-v-617b3caa"]]);var ke=Ye;const Ce={id:"app"},Ie=(0,a._)("h1",null,"Easing Editor",-1);var Te=(0,a.aZ)({__name:"App",setup(e){const n=(0,l.iH)("cubic-bezier(0.4, 0.1, 0.4, 0.8)");return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Ce,[Ie,(0,a.Wm)(ke,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e)},null,8,["modelValue"])]))}});const $e=Te;var Be=$e;(0,i.ri)(Be).mount("#app")}},n={};function t(i){var a=n[i];if(void 0!==a)return a.exports;var l=n[i]={exports:{}};return e[i].call(l.exports,l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(n,i,a,l){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],l=e[c][2];for(var s=!0,u=0;u<i.length;u++)(!1&l||r>=l)&&Object.keys(t.O).every((function(e){return t.O[e](i[u])}))?i.splice(u--,1):(s=!1,l<r&&(r=l));if(s){e.splice(c--,1);var o=a();void 0!==o&&(n=o)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,a,l]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var a,l,r=i[0],s=i[1],u=i[2],o=0;if(r.some((function(n){return 0!==e[n]}))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(u)var c=u(t)}for(n&&n(i);o<r.length;o++)l=r[o],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},i=self["webpackChunkeasing_editor_vue"]=self["webpackChunkeasing_editor_vue"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(2519)}));i=t.O(i)})();
//# sourceMappingURL=app.309344c2.js.map